{
    "sourceFile": "scripts/migrate.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1746058942397,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1746059020286,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n-const { Sequelize } = require('sequelize');\r\n-const config = require('../config/config.json').development;\r\n+const { Sequelize } = require(\"sequelize\");\r\n+const config = require(\"../config/config.json\").development;\r\n \r\n const sequelize = new Sequelize(\r\n   config.database,\r\n   config.username,\r\n@@ -9,32 +9,32 @@\n     host: config.host,\r\n     port: config.port,\r\n     dialect: config.dialect,\r\n     dialectOptions: config.dialectOptions,\r\n-    logging: false\r\n+    logging: false,\r\n   }\r\n );\r\n \r\n async function migrate() {\r\n   try {\r\n     // 测试数据库连接\r\n     await sequelize.authenticate();\r\n-    console.log('数据库连接成功');\r\n+    console.log(\"数据库连接成功\");\r\n \r\n     // 执行迁移\r\n-    const migrations = require('../migrations');\r\n+    const migrations = require(\"../migrations\");\r\n     for (const migration of Object.values(migrations)) {\r\n-      if (typeof migration.up === 'function') {\r\n-        console.log(`执行迁移: ${migration.name || 'unnamed'}`);\r\n+      if (typeof migration.up === \"function\") {\r\n+        console.log(`执行迁移: ${migration.name || \"unnamed\"}`);\r\n         await migration.up(sequelize.getQueryInterface(), Sequelize);\r\n       }\r\n     }\r\n \r\n-    console.log('所有迁移执行完成');\r\n+    console.log(\"所有迁移执行完成\");\r\n     process.exit(0);\r\n   } catch (error) {\r\n\\ No newline at end of file\n-    console.error('迁移失败:', error);\r\n+    console.error(\"迁移失败:\", error);\r\n     process.exit(1);\r\n   }\r\n }\r\n \r\n-migrate();\n+migrate();\r\n"
                },
                {
                    "date": 1746059060359,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,5 +36,5 @@\n     process.exit(1);\r\n   }\r\n }\r\n \r\n-migrate();\n\\ No newline at end of file\n+migrate();\r\n"
                }
            ],
            "date": 1746058942397,
            "name": "Commit-0",
            "content": "const { Sequelize } = require('sequelize');\r\nconst config = require('../config/config.json').development;\r\n\r\nconst sequelize = new Sequelize(\r\n  config.database,\r\n  config.username,\r\n  config.password,\r\n  {\r\n    host: config.host,\r\n    port: config.port,\r\n    dialect: config.dialect,\r\n    dialectOptions: config.dialectOptions,\r\n    logging: false\r\n  }\r\n);\r\n\r\nasync function migrate() {\r\n  try {\r\n    // 测试数据库连接\r\n    await sequelize.authenticate();\r\n    console.log('数据库连接成功');\r\n\r\n    // 执行迁移\r\n    const migrations = require('../migrations');\r\n    for (const migration of Object.values(migrations)) {\r\n      if (typeof migration.up === 'function') {\r\n        console.log(`执行迁移: ${migration.name || 'unnamed'}`);\r\n        await migration.up(sequelize.getQueryInterface(), Sequelize);\r\n      }\r\n    }\r\n\r\n    console.log('所有迁移执行完成');\r\n    process.exit(0);\r\n  } catch (error) {\r\n    console.error('迁移失败:', error);\r\n    process.exit(1);\r\n  }\r\n}\r\n\r\nmigrate();"
        }
    ]
}