{
    "sourceFile": "test.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 3,
            "patches": [
                {
                    "date": 1745851647824,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1745851663232,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,1 +1,30 @@\n // 写一个最简单的程序测试sqlserver的连接，sa、密码chinavane\r\n+\r\n+const sql = require('mssql');\r\n+\r\n+const config = {\r\n+    user: 'sa',\r\n+    password: 'chinavane',\r\n+    server: 'localhost',\r\n+    database: 'master',\r\n+    options: {\r\n+        encrypt: false,\r\n+        trustServerCertificate: true\r\n+    }\r\n+};\r\n+\r\n+async function testConnection() {\r\n+    try {\r\n+        await sql.connect(config);\r\n+        console.log('Connected to SQL Server successfully!');\r\n+\r\n+        const result = await sql.query`SELECT @@VERSION as version`;\r\n+        console.log('SQL Server Version:', result.recordset[0].version);\r\n+\r\n+        await sql.close();\r\n+    } catch (err) {\r\n+        console.error('Error connecting to SQL Server:', err);\r\n+    }\r\n+}\r\n+\r\n+testConnection();\r\n"
                },
                {
                    "date": 1745851831021,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,30 +1,34 @@\n-// 写一个最简单的程序测试sqlserver的连接，sa、密码chinavane\r\n+const sql = require('mssql');\r\n \r\n-const sql = require(\"mssql\");\r\n-\r\n+// 配置连接信息\r\n const config = {\r\n-  user: \"sa\",\r\n-  password: \"chinavane\",\r\n-  server: \"localhost\",\r\n-  database: \"master\",\r\n-  options: {\r\n-    encrypt: false,\r\n-    trustServerCertificate: true,\r\n-  },\r\n+    user: 'sa',\r\n+    password: 'chinavane',\r\n+    server: 'localhost', // 或你的服务器IP/名称\r\n+    database: 'master',  // 默认连接master数据库\r\n+    options: {\r\n+        encrypt: false, // 如果使用Azure SQL需要设为true\r\n+        trustServerCertificate: true // 本地开发环境可以设为true\r\n+    }\r\n };\r\n \r\n async function testConnection() {\r\n-  try {\r\n-    await sql.connect(config);\r\n-    console.log(\"Connected to SQL Server successfully!\");\r\n+    try {\r\n+        // 建立连接\r\n+        await sql.connect(config);\r\n+        console.log('连接SQL Server成功!');\r\n \r\n-    const result = await sql.query`SELECT @@VERSION as version`;\r\n-    console.log(\"SQL Server Version:\", result.recordset[0].version);\r\n+        // 执行一个简单查询\r\n+        const result = await sql.query`SELECT @@VERSION AS 'SQL Server Version'`;\r\n+        console.log('SQL Server版本:', result.recordset[0]['SQL Server Version']);\r\n \r\n-    await sql.close();\r\n-  } catch (err) {\r\n-    console.error(\"Error connecting to SQL Server:\", err);\r\n-  }\r\n+    } catch (err) {\r\n+        console.error('连接失败:', err);\r\n+    } finally {\r\n+        // 关闭连接\r\n+        sql.close();\r\n+    }\r\n }\r\n \r\n-testConnection();\r\n+// 执行测试\r\n+testConnection();\n\\ No newline at end of file\n"
                },
                {
                    "date": 1745851869687,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,9 +4,9 @@\n const config = {\r\n   user: \"sa\",\r\n   password: \"chinavane\",\r\n   server: \"localhost\", // 或你的服务器IP/名称\r\n-  database: \"master\", // 默认连接master数据库\r\n+  database: \"crm\", // 默认连接master数据库\r\n   options: {\r\n     encrypt: false, // 如果使用Azure SQL需要设为true\r\n     trustServerCertificate: true, // 本地开发环境可以设为true\r\n   },\r\n"
                }
            ],
            "date": 1745851647824,
            "name": "Commit-0",
            "content": "// 写一个最简单的程序测试sqlserver的连接，sa、密码chinavane"
        }
    ]
}