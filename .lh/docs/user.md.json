{
    "sourceFile": "docs/user.md",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1746029022160,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1746029195936,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,8 @@\n # 用户管理接口文档\r\n \r\n ## 1. 创建用户\r\n+\r\n - **接口**：`POST /api/users`\r\n - **描述**：创建新用户（需要 create_user 权限）\r\n - **认证**：需要有效的访问令牌（Bearer Token）\r\n - **请求头**：\r\n@@ -35,8 +36,9 @@\n   - 403: \"Forbidden\"\r\n   - 500: \"Internal Server Error\"\r\n \r\n ## 2. 获取用户列表\r\n+\r\n - **接口**：`GET /api/users`\r\n - **描述**：获取用户列表（需要 view_users 权限）\r\n - **认证**：需要有效的访问令牌（Bearer Token）\r\n - **请求头**：\r\n@@ -61,8 +63,9 @@\n   - 403: \"Forbidden\"\r\n   - 500: \"Internal Server Error\"\r\n \r\n ## 3. 获取单个用户\r\n+\r\n - **接口**：`GET /api/users/:id`\r\n - **描述**：获取指定用户信息（需要 view_users 权限）\r\n - **认证**：需要有效的访问令牌（Bearer Token）\r\n - **请求头**：\r\n@@ -87,8 +90,9 @@\n   - 404: \"User not found\"\r\n   - 500: \"Internal Server Error\"\r\n \r\n ## 4. 更新用户\r\n+\r\n - **接口**：`PUT /api/users/:id`\r\n - **描述**：更新指定用户信息（需要 update_user 权限）\r\n - **认证**：需要有效的访问令牌（Bearer Token）\r\n - **请求头**：\r\n@@ -113,8 +117,9 @@\n   - 404: \"User not found\"\r\n   - 500: \"Internal Server Error\"\r\n \r\n ## 5. 删除用户\r\n+\r\n - **接口**：`DELETE /api/users/:id`\r\n - **描述**：删除指定用户（需要 delete_user 权限）\r\n - **认证**：需要有效的访问令牌（Bearer Token）\r\n - **请求头**：\r\n@@ -130,5 +135,5 @@\n - **错误**：\r\n   - 401: \"No token provided\" / \"Invalid or expired token\"\r\n   - 403: \"Forbidden\"\r\n   - 404: \"User not found\"\r\n-  - 500: \"Internal Server Error\" \n\\ No newline at end of file\n+  - 500: \"Internal Server Error\"\r\n"
                }
            ],
            "date": 1746029022160,
            "name": "Commit-0",
            "content": "# 用户管理接口文档\r\n\r\n## 1. 创建用户\r\n- **接口**：`POST /api/users`\r\n- **描述**：创建新用户（需要 create_user 权限）\r\n- **认证**：需要有效的访问令牌（Bearer Token）\r\n- **请求头**：\r\n  ```\r\n  Authorization: Bearer <accessToken>\r\n  ```\r\n- **请求体**：\r\n  ```json\r\n  {\r\n    \"username\": \"string\",\r\n    \"password\": \"string\",\r\n    \"email\": \"string\",\r\n    \"roleIds\": \"number[]\"\r\n  }\r\n  ```\r\n- **响应**：\r\n  ```json\r\n  {\r\n    \"id\": \"number\",\r\n    \"username\": \"string\",\r\n    \"email\": \"string\",\r\n    \"status\": \"boolean\",\r\n    \"createdAt\": \"string\",\r\n    \"updatedAt\": \"string\",\r\n    \"Roles\": [ ... ]\r\n  }\r\n  ```\r\n- **错误**：\r\n  - 400: \"Username already exists\"\r\n  - 401: \"No token provided\" / \"Invalid or expired token\"\r\n  - 403: \"Forbidden\"\r\n  - 500: \"Internal Server Error\"\r\n\r\n## 2. 获取用户列表\r\n- **接口**：`GET /api/users`\r\n- **描述**：获取用户列表（需要 view_users 权限）\r\n- **认证**：需要有效的访问令牌（Bearer Token）\r\n- **请求头**：\r\n  ```\r\n  Authorization: Bearer <accessToken>\r\n  ```\r\n- **查询参数**：\r\n  - page: 页码（默认：1）\r\n  - limit: 每页数量（默认：10）\r\n  - search: 搜索关键词\r\n- **响应**：\r\n  ```json\r\n  {\r\n    \"total\": \"number\",\r\n    \"pages\": \"number\",\r\n    \"currentPage\": \"number\",\r\n    \"data\": [ ... ]\r\n  }\r\n  ```\r\n- **错误**：\r\n  - 401: \"No token provided\" / \"Invalid or expired token\"\r\n  - 403: \"Forbidden\"\r\n  - 500: \"Internal Server Error\"\r\n\r\n## 3. 获取单个用户\r\n- **接口**：`GET /api/users/:id`\r\n- **描述**：获取指定用户信息（需要 view_users 权限）\r\n- **认证**：需要有效的访问令牌（Bearer Token）\r\n- **请求头**：\r\n  ```\r\n  Authorization: Bearer <accessToken>\r\n  ```\r\n- **响应**：\r\n  ```json\r\n  {\r\n    \"id\": \"number\",\r\n    \"username\": \"string\",\r\n    \"email\": \"string\",\r\n    \"status\": \"boolean\",\r\n    \"createdAt\": \"string\",\r\n    \"updatedAt\": \"string\",\r\n    \"Roles\": [ ... ]\r\n  }\r\n  ```\r\n- **错误**：\r\n  - 401: \"No token provided\" / \"Invalid or expired token\"\r\n  - 403: \"Forbidden\"\r\n  - 404: \"User not found\"\r\n  - 500: \"Internal Server Error\"\r\n\r\n## 4. 更新用户\r\n- **接口**：`PUT /api/users/:id`\r\n- **描述**：更新指定用户信息（需要 update_user 权限）\r\n- **认证**：需要有效的访问令牌（Bearer Token）\r\n- **请求头**：\r\n  ```\r\n  Authorization: Bearer <accessToken>\r\n  ```\r\n- **请求体**：\r\n  ```json\r\n  {\r\n    \"username\": \"string\",\r\n    \"password\": \"string\",\r\n    \"email\": \"string\",\r\n    \"status\": \"boolean\",\r\n    \"roleIds\": \"number[]\"\r\n  }\r\n  ```\r\n- **响应**：与获取单个用户接口相同\r\n- **错误**：\r\n  - 400: \"Username already exists\"\r\n  - 401: \"No token provided\" / \"Invalid or expired token\"\r\n  - 403: \"Forbidden\"\r\n  - 404: \"User not found\"\r\n  - 500: \"Internal Server Error\"\r\n\r\n## 5. 删除用户\r\n- **接口**：`DELETE /api/users/:id`\r\n- **描述**：删除指定用户（需要 delete_user 权限）\r\n- **认证**：需要有效的访问令牌（Bearer Token）\r\n- **请求头**：\r\n  ```\r\n  Authorization: Bearer <accessToken>\r\n  ```\r\n- **响应**：\r\n  ```json\r\n  {\r\n    \"message\": \"User deleted successfully\"\r\n  }\r\n  ```\r\n- **错误**：\r\n  - 401: \"No token provided\" / \"Invalid or expired token\"\r\n  - 403: \"Forbidden\"\r\n  - 404: \"User not found\"\r\n  - 500: \"Internal Server Error\" "
        }
    ]
}