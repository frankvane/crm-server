{
    "sourceFile": "docs/api/resource.md",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1746070287443,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1746072850087,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,8 +4,12 @@\n \r\n - **接口**：`POST /api/resources`\r\n - **描述**：创建新资源（需要 system:resource:add 权限）\r\n - **认证**：需要有效的访问令牌（Bearer Token）\r\n+- **请求头**：\r\n+  ```\r\n+  Authorization: Bearer <accessToken>\r\n+  ```\r\n - **请求体**：\r\n   ```json\r\n   {\r\n     \"name\": \"string\",\r\n@@ -27,90 +31,414 @@\n     },\r\n     \"description\": \"string\"\r\n   }\r\n   ```\r\n-- **meta字段说明**：\r\n-  - 在请求中，meta可以直接传递为对象，系统会自动将其序列化为JSON字符串\r\n-  - 在响应中，meta会自动被解析为JSON对象返回\r\n-  - meta主要用于存储与前端路由相关的配置信息\r\n-  - 字段必须是有效的JSON结构\r\n+- **meta 字段说明**：\r\n \r\n-- **响应**：资源对象\r\n+  - 在请求中，meta 可以直接传递为对象，系统会自动将其序列化为 JSON 字符串\r\n+  - 在响应中，meta 会自动被解析为 JSON 对象返回\r\n+  - meta 主要用于存储与前端路由相关的配置信息\r\n+  - 字段必须是有效的 JSON 结构\r\n \r\n+- **响应**：\r\n+  ```json\r\n+  {\r\n+    \"success\": true,\r\n+    \"message\": \"Resource created successfully\",\r\n+    \"data\": {\r\n+      \"id\": \"number\",\r\n+      \"name\": \"string\",\r\n+      \"type\": \"string\",\r\n+      \"code\": \"string\",\r\n+      \"path\": \"string\",\r\n+      \"parentId\": \"number\",\r\n+      \"component\": \"string\",\r\n+      \"icon\": \"string\",\r\n+      \"sort\": \"number\",\r\n+      \"hidden\": \"boolean\",\r\n+      \"redirect\": \"string\",\r\n+      \"alwaysShow\": \"boolean\",\r\n+      \"meta\": {\r\n+        \"title\": \"string\",\r\n+        \"icon\": \"string\",\r\n+        \"noCache\": \"boolean\",\r\n+        \"link\": \"string|null\"\r\n+      },\r\n+      \"description\": \"string\",\r\n+      \"createdAt\": \"string\",\r\n+      \"updatedAt\": \"string\"\r\n+    }\r\n+  }\r\n+  ```\r\n+- **错误响应**：\r\n+  ```json\r\n+  {\r\n+    \"success\": false,\r\n+    \"message\": \"Resource code already exists\",\r\n+    \"data\": null\r\n+  }\r\n+  ```\r\n+\r\n ## 2. 获取资源列表\r\n \r\n - **接口**：`GET /api/resources`\r\n - **描述**：获取所有资源（需要 system:resource:edit 权限）\r\n - **认证**：需要有效的访问令牌（Bearer Token）\r\n-- **响应**：资源数组\r\n+- **请求头**：\r\n+  ```\r\n+  Authorization: Bearer <accessToken>\r\n+  ```\r\n+- **响应**：\r\n+  ```json\r\n+  {\r\n+    \"success\": true,\r\n+    \"message\": \"Success\",\r\n+    \"data\": [\r\n+      {\r\n+        \"id\": \"number\",\r\n+        \"name\": \"string\",\r\n+        \"type\": \"string\",\r\n+        \"code\": \"string\",\r\n+        \"path\": \"string\",\r\n+        \"parentId\": \"number\",\r\n+        \"component\": \"string\",\r\n+        \"icon\": \"string\",\r\n+        \"meta\": {\r\n+          \"title\": \"string\",\r\n+          \"icon\": \"string\",\r\n+          \"noCache\": \"boolean\",\r\n+          \"link\": \"string|null\"\r\n+        },\r\n+        \"children\": []\r\n+      }\r\n+    ]\r\n+  }\r\n+  ```\r\n \r\n ## 3. 获取单个资源\r\n \r\n - **接口**：`GET /api/resources/:id`\r\n - **描述**：获取指定资源详情（需要 system:resource:edit 权限）\r\n - **认证**：需要有效的访问令牌（Bearer Token）\r\n-- **响应**：资源对象\r\n+- **请求头**：\r\n+  ```\r\n+  Authorization: Bearer <accessToken>\r\n+  ```\r\n+- **响应**：\r\n+  ```json\r\n+  {\r\n+    \"success\": true,\r\n+    \"message\": \"Success\",\r\n+    \"data\": {\r\n+      \"id\": \"number\",\r\n+      \"name\": \"string\",\r\n+      \"type\": \"string\",\r\n+      \"code\": \"string\",\r\n+      \"path\": \"string\",\r\n+      \"parentId\": \"number\",\r\n+      \"component\": \"string\",\r\n+      \"icon\": \"string\",\r\n+      \"sort\": \"number\",\r\n+      \"hidden\": \"boolean\",\r\n+      \"redirect\": \"string\",\r\n+      \"alwaysShow\": \"boolean\",\r\n+      \"meta\": {\r\n+        \"title\": \"string\",\r\n+        \"icon\": \"string\",\r\n+        \"noCache\": \"boolean\",\r\n+        \"link\": \"string|null\"\r\n+      },\r\n+      \"description\": \"string\",\r\n+      \"actions\": [\r\n+        {\r\n+          \"id\": \"number\",\r\n+          \"name\": \"string\",\r\n+          \"code\": \"string\",\r\n+          \"description\": \"string\"\r\n+        }\r\n+      ]\r\n+    }\r\n+  }\r\n+  ```\r\n+- **错误响应**：\r\n+  ```json\r\n+  {\r\n+    \"success\": false,\r\n+    \"message\": \"Resource not found\",\r\n+    \"data\": null\r\n+  }\r\n+  ```\r\n \r\n ## 4. 更新资源\r\n \r\n - **接口**：`PUT /api/resources/:id`\r\n - **描述**：更新指定资源（需要 system:resource:edit 权限）\r\n - **认证**：需要有效的访问令牌（Bearer Token）\r\n+- **请求头**：\r\n+  ```\r\n+  Authorization: Bearer <accessToken>\r\n+  ```\r\n - **请求体**：同创建资源\r\n-- **响应**：资源对象\r\n+- **响应**：同获取单个资源\r\n+- **错误响应**：\r\n+  ```json\r\n+  {\r\n+    \"success\": false,\r\n+    \"message\": \"Resource not found\",\r\n+    \"data\": null\r\n+  }\r\n+  ```\r\n+  或\r\n+  ```json\r\n+  {\r\n+    \"success\": false,\r\n+    \"message\": \"Resource code already exists\",\r\n+    \"data\": null\r\n+  }\r\n+  ```\r\n \r\n ## 5. 删除资源\r\n \r\n - **接口**：`DELETE /api/resources/:id`\r\n - **描述**：删除指定资源（需要 system:resource:delete 权限）\r\n - **认证**：需要有效的访问令牌（Bearer Token）\r\n-- **响应**：删除结果\r\n+- **请求头**：\r\n+  ```\r\n+  Authorization: Bearer <accessToken>\r\n+  ```\r\n+- **响应**：\r\n+  ```json\r\n+  {\r\n+    \"success\": true,\r\n+    \"message\": \"Resource deleted successfully\",\r\n+    \"data\": null\r\n+  }\r\n+  ```\r\n+- **错误响应**：\r\n+  ```json\r\n+  {\r\n+    \"success\": false,\r\n+    \"message\": \"Resource not found\",\r\n+    \"data\": null\r\n+  }\r\n+  ```\r\n+  或\r\n+  ```json\r\n+  {\r\n+    \"success\": false,\r\n+    \"message\": \"Cannot delete resource with child resources\",\r\n+    \"data\": null\r\n+  }\r\n+  ```\r\n \r\n # 资源操作管理接口文档\r\n \r\n ## 1. 创建资源操作\r\n \r\n - **接口**：`POST /api/resource-actions`\r\n-- **描述**：创建新资源操作（需要 manage_resource_actions 权限）\r\n+- **描述**：创建新资源操作（需要 system:resource:action:add 权限）\r\n - **认证**：需要有效的访问令牌（Bearer Token）\r\n+- **请求头**：\r\n+  ```\r\n+  Authorization: Bearer <accessToken>\r\n+  ```\r\n - **请求体**：\r\n   ```json\r\n   {\r\n     \"name\": \"string\",\r\n-    \"code\": \"string\",\r\n+    \"code\": \"string\", // 如：view, add, edit, delete\r\n     \"description\": \"string\",\r\n+    \"resourceId\": \"number\", // 关联的资源ID\r\n     \"icon\": \"string\",\r\n     \"sort\": \"number\",\r\n     \"needConfirm\": \"boolean\",\r\n     \"confirmMessage\": \"string\"\r\n   }\r\n   ```\r\n-- **响应**：资源操作对象\r\n+- **响应**：\r\n+  ```json\r\n+  {\r\n+    \"success\": true,\r\n+    \"message\": \"Resource action created successfully\",\r\n+    \"data\": {\r\n+      \"id\": \"number\",\r\n+      \"name\": \"string\",\r\n+      \"code\": \"string\",\r\n+      \"description\": \"string\",\r\n+      \"resourceId\": \"number\",\r\n+      \"icon\": \"string\",\r\n+      \"sort\": \"number\",\r\n+      \"needConfirm\": \"boolean\",\r\n+      \"confirmMessage\": \"string\",\r\n+      \"permission\": {\r\n+        \"id\": \"number\",\r\n+        \"name\": \"string\",\r\n+        \"code\": \"string\",\r\n+        \"description\": \"string\"\r\n+      },\r\n+      \"resource\": {\r\n+        \"id\": \"number\",\r\n+        \"name\": \"string\",\r\n+        \"code\": \"string\",\r\n+        \"type\": \"string\"\r\n+      }\r\n+    }\r\n+  }\r\n+  ```\r\n+- **错误响应**：\r\n+  ```json\r\n+  {\r\n+    \"success\": false,\r\n+    \"message\": \"Resource not found\",\r\n+    \"data\": null\r\n+  }\r\n+  ```\r\n+  或\r\n+  ```json\r\n+  {\r\n+    \"success\": false,\r\n+    \"message\": \"Resource action already exists\",\r\n+    \"data\": null\r\n+  }\r\n+  ```\r\n \r\n ## 2. 获取资源操作列表\r\n \r\n - **接口**：`GET /api/resource-actions`\r\n-- **描述**：获取所有资源操作（需要 view_resource_actions 权限）\r\n+- **描述**：获取所有资源操作（需要 system:resource:action:edit 权限）\r\n - **认证**：需要有效的访问令牌（Bearer Token）\r\n-- **响应**：资源操作数组\r\n+- **请求头**：\r\n+  ```\r\n+  Authorization: Bearer <accessToken>\r\n+  ```\r\n+- **查询参数**：\r\n+  - `resourceId`: 资源ID（可选）\r\n+- **响应**：\r\n+  ```json\r\n+  {\r\n+    \"success\": true,\r\n+    \"message\": \"Success\",\r\n+    \"data\": [\r\n+      {\r\n+        \"id\": \"number\",\r\n+        \"name\": \"string\",\r\n+        \"code\": \"string\",\r\n+        \"description\": \"string\",\r\n+        \"resourceId\": \"number\",\r\n+        \"icon\": \"string\",\r\n+        \"sort\": \"number\",\r\n+        \"resource\": {\r\n+          \"id\": \"number\",\r\n+          \"name\": \"string\",\r\n+          \"code\": \"string\"\r\n+        },\r\n+        \"permission\": {\r\n+          \"id\": \"number\",\r\n+          \"name\": \"string\",\r\n+          \"code\": \"string\"\r\n+        }\r\n+      }\r\n+    ]\r\n+  }\r\n+  ```\r\n \r\n ## 3. 获取单个资源操作\r\n \r\n - **接口**：`GET /api/resource-actions/:id`\r\n-- **描述**：获取指定资源操作详情（需要 view_resource_actions 权限）\r\n+- **描述**：获取指定资源操作详情（需要 system:resource:action:edit 权限）\r\n - **认证**：需要有效的访问令牌（Bearer Token）\r\n-- **响应**：资源操作对象\r\n+- **请求头**：\r\n+  ```\r\n+  Authorization: Bearer <accessToken>\r\n+  ```\r\n+- **响应**：\r\n+  ```json\r\n+  {\r\n+    \"success\": true,\r\n+    \"message\": \"Success\",\r\n+    \"data\": {\r\n+      \"id\": \"number\",\r\n+      \"name\": \"string\",\r\n+      \"code\": \"string\",\r\n+      \"description\": \"string\",\r\n+      \"resourceId\": \"number\",\r\n+      \"icon\": \"string\",\r\n+      \"sort\": \"number\",\r\n+      \"needConfirm\": \"boolean\",\r\n+      \"confirmMessage\": \"string\",\r\n+      \"resource\": {\r\n+        \"id\": \"number\",\r\n+        \"name\": \"string\",\r\n+        \"code\": \"string\",\r\n+        \"type\": \"string\"\r\n+      },\r\n+      \"permission\": {\r\n+        \"id\": \"number\",\r\n+        \"name\": \"string\",\r\n+        \"code\": \"string\",\r\n+        \"description\": \"string\"\r\n+      }\r\n+    }\r\n+  }\r\n+  ```\r\n+- **错误响应**：\r\n+  ```json\r\n+  {\r\n+    \"success\": false,\r\n+    \"message\": \"Resource action not found\",\r\n+    \"data\": null\r\n+  }\r\n+  ```\r\n \r\n ## 4. 更新资源操作\r\n \r\n - **接口**：`PUT /api/resource-actions/:id`\r\n-- **描述**：更新指定资源操作（需要 manage_resource_actions 权限）\r\n+- **描述**：更新指定资源操作（需要 system:resource:action:edit 权限）\r\n - **认证**：需要有效的访问令牌（Bearer Token）\r\n+- **请求头**：\r\n+  ```\r\n+  Authorization: Bearer <accessToken>\r\n+  ```\r\n - **请求体**：同创建资源操作\r\n-- **响应**：资源操作对象\r\n+- **响应**：同获取单个资源操作\r\n+- **错误响应**：\r\n+  ```json\r\n+  {\r\n+    \"success\": false,\r\n+    \"message\": \"Resource action not found\",\r\n+    \"data\": null\r\n+  }\r\n+  ```\r\n \r\n ## 5. 删除资源操作\r\n \r\n - **接口**：`DELETE /api/resource-actions/:id`\r\n-- **描述**：删除指定资源操作（需要 manage_resource_actions 权限）\r\n+- **描述**：删除指定资源操作（需要 system:resource:action:delete 权限）\r\n - **认证**：需要有效的访问令牌（Bearer Token）\r\n-- **响应**：删除结果\r\n+- **请求头**：\r\n+  ```\r\n+  Authorization: Bearer <accessToken>\r\n+  ```\r\n+- **响应**：\r\n+  ```json\r\n+  {\r\n+    \"success\": true,\r\n+    \"message\": \"Resource action deleted successfully\",\r\n+    \"data\": null\r\n+  }\r\n+  ```\r\n+- **错误响应**：\r\n+  ```json\r\n+  {\r\n+    \"success\": false,\r\n+    \"message\": \"Resource action not found\",\r\n+    \"data\": null\r\n+  }\r\n+  ```\r\n+  或\r\n+  ```json\r\n+  {\r\n+    \"success\": false,\r\n+    \"message\": \"Cannot delete resource action with associated permissions\",\r\n+    \"data\": null\r\n+  }\r\n+  ```\r\n"
                }
            ],
            "date": 1746070287443,
            "name": "Commit-0",
            "content": "# 资源管理接口文档\r\n\r\n## 1. 创建资源\r\n\r\n- **接口**：`POST /api/resources`\r\n- **描述**：创建新资源（需要 system:resource:add 权限）\r\n- **认证**：需要有效的访问令牌（Bearer Token）\r\n- **请求体**：\r\n  ```json\r\n  {\r\n    \"name\": \"string\",\r\n    \"type\": \"string\", // menu/page/button\r\n    \"code\": \"string\",\r\n    \"path\": \"string\",\r\n    \"parentId\": \"number\",\r\n    \"component\": \"string\",\r\n    \"icon\": \"string\",\r\n    \"sort\": \"number\",\r\n    \"hidden\": \"boolean\",\r\n    \"redirect\": \"string\",\r\n    \"alwaysShow\": \"boolean\",\r\n    \"meta\": {\r\n      \"title\": \"string\",\r\n      \"icon\": \"string\",\r\n      \"noCache\": \"boolean\",\r\n      \"link\": \"string|null\"\r\n    },\r\n    \"description\": \"string\"\r\n  }\r\n  ```\r\n- **meta字段说明**：\r\n  - 在请求中，meta可以直接传递为对象，系统会自动将其序列化为JSON字符串\r\n  - 在响应中，meta会自动被解析为JSON对象返回\r\n  - meta主要用于存储与前端路由相关的配置信息\r\n  - 字段必须是有效的JSON结构\r\n\r\n- **响应**：资源对象\r\n\r\n## 2. 获取资源列表\r\n\r\n- **接口**：`GET /api/resources`\r\n- **描述**：获取所有资源（需要 system:resource:edit 权限）\r\n- **认证**：需要有效的访问令牌（Bearer Token）\r\n- **响应**：资源数组\r\n\r\n## 3. 获取单个资源\r\n\r\n- **接口**：`GET /api/resources/:id`\r\n- **描述**：获取指定资源详情（需要 system:resource:edit 权限）\r\n- **认证**：需要有效的访问令牌（Bearer Token）\r\n- **响应**：资源对象\r\n\r\n## 4. 更新资源\r\n\r\n- **接口**：`PUT /api/resources/:id`\r\n- **描述**：更新指定资源（需要 system:resource:edit 权限）\r\n- **认证**：需要有效的访问令牌（Bearer Token）\r\n- **请求体**：同创建资源\r\n- **响应**：资源对象\r\n\r\n## 5. 删除资源\r\n\r\n- **接口**：`DELETE /api/resources/:id`\r\n- **描述**：删除指定资源（需要 system:resource:delete 权限）\r\n- **认证**：需要有效的访问令牌（Bearer Token）\r\n- **响应**：删除结果\r\n\r\n# 资源操作管理接口文档\r\n\r\n## 1. 创建资源操作\r\n\r\n- **接口**：`POST /api/resource-actions`\r\n- **描述**：创建新资源操作（需要 manage_resource_actions 权限）\r\n- **认证**：需要有效的访问令牌（Bearer Token）\r\n- **请求体**：\r\n  ```json\r\n  {\r\n    \"name\": \"string\",\r\n    \"code\": \"string\",\r\n    \"description\": \"string\",\r\n    \"icon\": \"string\",\r\n    \"sort\": \"number\",\r\n    \"needConfirm\": \"boolean\",\r\n    \"confirmMessage\": \"string\"\r\n  }\r\n  ```\r\n- **响应**：资源操作对象\r\n\r\n## 2. 获取资源操作列表\r\n\r\n- **接口**：`GET /api/resource-actions`\r\n- **描述**：获取所有资源操作（需要 view_resource_actions 权限）\r\n- **认证**：需要有效的访问令牌（Bearer Token）\r\n- **响应**：资源操作数组\r\n\r\n## 3. 获取单个资源操作\r\n\r\n- **接口**：`GET /api/resource-actions/:id`\r\n- **描述**：获取指定资源操作详情（需要 view_resource_actions 权限）\r\n- **认证**：需要有效的访问令牌（Bearer Token）\r\n- **响应**：资源操作对象\r\n\r\n## 4. 更新资源操作\r\n\r\n- **接口**：`PUT /api/resource-actions/:id`\r\n- **描述**：更新指定资源操作（需要 manage_resource_actions 权限）\r\n- **认证**：需要有效的访问令牌（Bearer Token）\r\n- **请求体**：同创建资源操作\r\n- **响应**：资源操作对象\r\n\r\n## 5. 删除资源操作\r\n\r\n- **接口**：`DELETE /api/resource-actions/:id`\r\n- **描述**：删除指定资源操作（需要 manage_resource_actions 权限）\r\n- **认证**：需要有效的访问令牌（Bearer Token）\r\n- **响应**：删除结果\r\n"
        }
    ]
}