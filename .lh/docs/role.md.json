{
    "sourceFile": "docs/role.md",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1746029110814,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1746029195954,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,8 @@\n # 角色管理接口文档\r\n \r\n ## 1. 创建角色\r\n+\r\n - **接口**：`POST /api/roles`\r\n - **描述**：创建新角色（需要 manage_roles 权限）\r\n - **认证**：需要有效的访问令牌（Bearer Token）\r\n - **请求头**：\r\n@@ -33,8 +34,9 @@\n   }\r\n   ```\r\n \r\n ## 2. 获取角色列表\r\n+\r\n - **接口**：`GET /api/roles`\r\n - **描述**：获取角色列表（需要 view_roles 权限）\r\n - **认证**：需要有效的访问令牌（Bearer Token）\r\n - **请求头**：\r\n@@ -54,8 +56,9 @@\n   }\r\n   ```\r\n \r\n ## 3. 获取单个角色\r\n+\r\n - **接口**：`GET /api/roles/:id`\r\n - **描述**：获取指定角色信息（需要 view_roles 权限）\r\n - **认证**：需要有效的访问令牌（Bearer Token）\r\n - **请求头**：\r\n@@ -79,8 +82,9 @@\n   }\r\n   ```\r\n \r\n ## 4. 更新角色\r\n+\r\n - **接口**：`PUT /api/roles/:id`\r\n - **描述**：更新指定角色信息（需要 manage_roles 权限）\r\n - **认证**：需要有效的访问令牌（Bearer Token）\r\n - **请求头**：\r\n@@ -113,8 +117,9 @@\n   }\r\n   ```\r\n \r\n ## 5. 删除角色\r\n+\r\n - **接口**：`DELETE /api/roles/:id`\r\n - **描述**：删除指定角色（需要 manage_roles 权限）\r\n - **认证**：需要有效的访问令牌（Bearer Token）\r\n - **请求头**：\r\n@@ -143,5 +148,5 @@\n     \"code\": 404,\r\n     \"message\": \"角色不存在\",\r\n     \"data\": null\r\n   }\r\n-  ``` \n\\ No newline at end of file\n+  ```\r\n"
                }
            ],
            "date": 1746029110814,
            "name": "Commit-0",
            "content": "# 角色管理接口文档\r\n\r\n## 1. 创建角色\r\n- **接口**：`POST /api/roles`\r\n- **描述**：创建新角色（需要 manage_roles 权限）\r\n- **认证**：需要有效的访问令牌（Bearer Token）\r\n- **请求头**：\r\n  ```\r\n  Authorization: Bearer <accessToken>\r\n  ```\r\n- **请求体**：\r\n  ```json\r\n  {\r\n    \"name\": \"string\",\r\n    \"description\": \"string\",\r\n    \"permissionIds\": \"number[]\"\r\n  }\r\n  ```\r\n- **响应**：\r\n  ```json\r\n  {\r\n    \"code\": 200,\r\n    \"message\": \"角色创建成功\",\r\n    \"data\": { ... }\r\n  }\r\n  ```\r\n- **错误响应**：\r\n  ```json\r\n  {\r\n    \"code\": 400,\r\n    \"message\": \"角色名已存在\",\r\n    \"data\": null\r\n  }\r\n  ```\r\n\r\n## 2. 获取角色列表\r\n- **接口**：`GET /api/roles`\r\n- **描述**：获取角色列表（需要 view_roles 权限）\r\n- **认证**：需要有效的访问令牌（Bearer Token）\r\n- **请求头**：\r\n  ```\r\n  Authorization: Bearer <accessToken>\r\n  ```\r\n- **查询参数**：\r\n  - `page`: 页码（默认：1）\r\n  - `limit`: 每页数量（默认：10）\r\n  - `search`: 搜索关键词\r\n- **响应**：\r\n  ```json\r\n  {\r\n    \"code\": 200,\r\n    \"message\": \"获取角色列表成功\",\r\n    \"data\": { ... }\r\n  }\r\n  ```\r\n\r\n## 3. 获取单个角色\r\n- **接口**：`GET /api/roles/:id`\r\n- **描述**：获取指定角色信息（需要 view_roles 权限）\r\n- **认证**：需要有效的访问令牌（Bearer Token）\r\n- **请求头**：\r\n  ```\r\n  Authorization: Bearer <accessToken>\r\n  ```\r\n- **响应**：\r\n  ```json\r\n  {\r\n    \"code\": 200,\r\n    \"message\": \"获取角色成功\",\r\n    \"data\": { ... }\r\n  }\r\n  ```\r\n- **错误响应**：\r\n  ```json\r\n  {\r\n    \"code\": 404,\r\n    \"message\": \"角色不存在\",\r\n    \"data\": null\r\n  }\r\n  ```\r\n\r\n## 4. 更新角色\r\n- **接口**：`PUT /api/roles/:id`\r\n- **描述**：更新指定角色信息（需要 manage_roles 权限）\r\n- **认证**：需要有效的访问令牌（Bearer Token）\r\n- **请求头**：\r\n  ```\r\n  Authorization: Bearer <accessToken>\r\n  ```\r\n- **请求体**：\r\n  ```json\r\n  {\r\n    \"name\": \"string\",\r\n    \"description\": \"string\",\r\n    \"permissionIds\": \"number[]\"\r\n  }\r\n  ```\r\n- **响应**：与获取单个角色接口相同\r\n- **错误响应**：\r\n  ```json\r\n  {\r\n    \"code\": 400,\r\n    \"message\": \"角色名已存在\",\r\n    \"data\": null\r\n  }\r\n  ```\r\n  或\r\n  ```json\r\n  {\r\n    \"code\": 404,\r\n    \"message\": \"角色不存在\",\r\n    \"data\": null\r\n  }\r\n  ```\r\n\r\n## 5. 删除角色\r\n- **接口**：`DELETE /api/roles/:id`\r\n- **描述**：删除指定角色（需要 manage_roles 权限）\r\n- **认证**：需要有效的访问令牌（Bearer Token）\r\n- **请求头**：\r\n  ```\r\n  Authorization: Bearer <accessToken>\r\n  ```\r\n- **响应**：\r\n  ```json\r\n  {\r\n    \"code\": 200,\r\n    \"message\": \"角色删除成功\",\r\n    \"data\": null\r\n  }\r\n  ```\r\n- **错误响应**：\r\n  ```json\r\n  {\r\n    \"code\": 400,\r\n    \"message\": \"无法删除，该角色下存在用户\",\r\n    \"data\": null\r\n  }\r\n  ```\r\n  或\r\n  ```json\r\n  {\r\n    \"code\": 404,\r\n    \"message\": \"角色不存在\",\r\n    \"data\": null\r\n  }\r\n  ``` "
        }
    ]
}