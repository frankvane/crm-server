{
    "sourceFile": "controllers/resourceAction.controller.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1746022460215,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1746024865533,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -59,5 +59,5 @@\n     }\r\n   },\r\n };\r\n \r\n-module.exports = resourceActionController;\n\\ No newline at end of file\n+module.exports = resourceActionController;\r\n"
                }
            ],
            "date": 1746022460215,
            "name": "Commit-0",
            "content": "const { ResourceAction } = require(\"../models\");\r\nconst ResponseUtil = require(\"../utils/response\");\r\n\r\nconst resourceActionController = {\r\n  // 创建资源操作\r\n  async create(req, res) {\r\n    try {\r\n      const action = await ResourceAction.create(req.body);\r\n      res.json(ResponseUtil.success(action, \"资源操作创建成功\"));\r\n    } catch (error) {\r\n      res.status(500).json(ResponseUtil.error(error.message, 500));\r\n    }\r\n  },\r\n  // 获取资源操作列表\r\n  async list(req, res) {\r\n    try {\r\n      const actions = await ResourceAction.findAll();\r\n      res.json(ResponseUtil.success(actions, \"资源操作列表获取成功\"));\r\n    } catch (error) {\r\n      res.status(500).json(ResponseUtil.error(error.message, 500));\r\n    }\r\n  },\r\n  // 获取单个资源操作\r\n  async getById(req, res) {\r\n    try {\r\n      const action = await ResourceAction.findByPk(req.params.id);\r\n      if (!action) {\r\n        return res.status(404).json(ResponseUtil.error(\"资源操作不存在\", 404));\r\n      }\r\n      res.json(ResponseUtil.success(action, \"资源操作获取成功\"));\r\n    } catch (error) {\r\n      res.status(500).json(ResponseUtil.error(error.message, 500));\r\n    }\r\n  },\r\n  // 更新资源操作\r\n  async update(req, res) {\r\n    try {\r\n      const action = await ResourceAction.findByPk(req.params.id);\r\n      if (!action) {\r\n        return res.status(404).json(ResponseUtil.error(\"资源操作不存在\", 404));\r\n      }\r\n      await action.update(req.body);\r\n      res.json(ResponseUtil.success(action, \"资源操作更新成功\"));\r\n    } catch (error) {\r\n      res.status(500).json(ResponseUtil.error(error.message, 500));\r\n    }\r\n  },\r\n  // 删除资源操作\r\n  async delete(req, res) {\r\n    try {\r\n      const action = await ResourceAction.findByPk(req.params.id);\r\n      if (!action) {\r\n        return res.status(404).json(ResponseUtil.error(\"资源操作不存在\", 404));\r\n      }\r\n      await action.destroy();\r\n      res.json(ResponseUtil.success(null, \"资源操作删除成功\"));\r\n    } catch (error) {\r\n      res.status(500).json(ResponseUtil.error(error.message, 500));\r\n    }\r\n  },\r\n};\r\n\r\nmodule.exports = resourceActionController;"
        }
    ]
}